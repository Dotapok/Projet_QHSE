{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>Dashboard | Ajouter un accident</title>
    <meta content="" name="description" />
    <meta content="" name="keywords" />

    <!-- Favicons -->
    <link href="{% static 'assets/img/favicon.png' %}" rel="icon" />
    <link href="{% static 'assets/img/apple-touch-icon.png' %}" rel="apple-touch-icon" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.gstatic.com" rel="preconnect" />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
      rel="stylesheet"
    />

    <!-- Vendor CSS Files -->
    <link
      href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}"
      rel="stylesheet"
    />
    <link
      href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}"
      rel="stylesheet"
    />
    <link href="{% static 'assets/vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet" />
    <link href="{% static 'assets/vendor/quill/quill.snow.css' %}" rel="stylesheet" />
    <link href="{% static 'assets/vendor/quill/quill.bubble.css' %}" rel="stylesheet" />
    <link href="{% static 'assets/vendor/remixicon/remixicon.css' %}" rel="stylesheet" />
    <link href="{% static 'assets/vendor/simple-datatables/style.css' %}" rel="stylesheet" />

    <!-- Template Main CSS File -->
    <link href="{% static 'assets/css/style.css' %}" rel="stylesheet" />
    <!-- ===============================================-->
    <!--    Stylesheets-->
    <!-- ===============================================-->

    <link href="{% static 'assets/css/theme.min.css' %}" rel="stylesheet" id="style-default" />
  </head>

  <body>
    <!-- ======= Header ======= -->
    <header id="header" class="header fixed-top d-flex align-items-center">
      <div class="d-flex align-items-center justify-content-between">
        <a href="#" class="logo d-flex align-items-center">
          <img src="{% static 'assets/img/logo.png' %}" alt="" />
          <span class="d-none d-lg-block">DIGI QHSE</span>
        </a>
        <i class="bi bi-list toggle-sidebar-btn"></i>
      </div>
      <!-- End Logo -->

      <nav class="header-nav ms-auto">
        <ul class="d-flex align-items-center">
          <li class="nav-item d-block d-lg-none">
            <a class="nav-link nav-icon search-bar-toggle" href="#">
              <i class="bi bi-search"></i>
            </a>
          </li>
          <!-- End Search Icon-->

          <li class="nav-item dropdown">
            <a class="nav-link nav-icon" href="#" data-bs-toggle="dropdown">
              <i class="bi bi-bell"></i>
              <span class="badge bg-primary badge-number">4</span> </a
            ><!-- End Notification Icon -->

            <ul
              class="dropdown-menu dropdown-menu-end dropdown-menu-arrow notifications"
            >
              <li class="dropdown-header">
                You have 4 new notifications
                <a href="#"
                  ><span class="badge rounded-pill bg-primary p-2 ms-2"
                    >View all</span
                  ></a
                >
              </li>
              <li>
                <hr class="dropdown-divider" />
              </li>

              <li class="notification-item">
                <i class="bi bi-exclamation-circle text-warning"></i>
                <div>
                  <h4>Lorem Ipsum</h4>
                  <p>Quae dolorem earum veritatis oditseno</p>
                  <p>30 min. ago</p>
                </div>
              </li>

              <li>
                <hr class="dropdown-divider" />
              </li>

              <li class="notification-item">
                <i class="bi bi-x-circle text-danger"></i>
                <div>
                  <h4>Atque rerum nesciunt</h4>
                  <p>Quae dolorem earum veritatis oditseno</p>
                  <p>1 hr. ago</p>
                </div>
              </li>

              <li>
                <hr class="dropdown-divider" />
              </li>

              <li class="notification-item">
                <i class="bi bi-check-circle text-success"></i>
                <div>
                  <h4>Sit rerum fuga</h4>
                  <p>Quae dolorem earum veritatis oditseno</p>
                  <p>2 hrs. ago</p>
                </div>
              </li>

              <li>
                <hr class="dropdown-divider" />
              </li>

              <li class="notification-item">
                <i class="bi bi-info-circle text-primary"></i>
                <div>
                  <h4>Dicta reprehenderit</h4>
                  <p>Quae dolorem earum veritatis oditseno</p>
                  <p>4 hrs. ago</p>
                </div>
              </li>

              <li>
                <hr class="dropdown-divider" />
              </li>
              <li class="dropdown-footer">
                <a href="#">Show all notifications</a>
              </li>
            </ul>
            <!-- End Notification Dropdown Items -->
          </li>
          <!-- End Notification Nav -->

          <li class="nav-item dropdown pe-3">
            <a
              class="nav-link nav-profile d-flex align-items-center pe-0"
              href="#"
              data-bs-toggle="dropdown"
            >
              <img
                src="{{ profile_image_url }}"
                alt="Profile"
                class="rounded-circle"
              />
              <span class="d-none d-md-block dropdown-toggle ps-2"
                >{{ nom }}</span
              > </a
            ><!-- End Profile Iamge Icon -->

            <ul
              class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile"
            >
              <li class="dropdown-header">
                <h6>{{ nom }}</h6>
                <span>{{ fonction }}</span>
              </li>
              <li>
                <hr class="dropdown-divider" />
              </li>

              <li>
                <a class="dropdown-item d-flex align-items-center" href="{% url 'deconnexionprocessus' %}">
                  <i class="bi bi-box-arrow-right"></i>
                  <span>Se deconnecter</span>
                </a>
              </li>
            </ul>
            <!-- End Profile Dropdown Items -->
          </li>
          <!-- End Profile Nav -->
        </ul>
      </nav>
      <!-- End Icons Navigation -->
    </header>
    <!-- End Header -->

    <!-- ======= Sidebar ======= -->
    <aside id="sidebar" class="sidebar">
      <ul class="sidebar-nav" id="sidebar-nav">
        <li class="nav-item">
          <a class="nav-link collapsed" href="{% url 'Dashboard' %}">
            <i class="bi bi-grid"></i>
            <span>Dashboard</span>
          </a>
        </li>
        <!-- End Dashboard Nav -->

        <li class="nav-item">
          <a class="nav-link " href="{% url 'AjouterAccident' %}">
            <i class="bi bi-journal-text"></i>
            <span>Ajouter un accident</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link collapsed" href="{% url 'AjouterIncident' %}">
            <i class="bi bi-journal-text"></i>
            <span>Ajouter un incident</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link collapsed" href="{% url 'tableauAccident' %}">
            <i class="bi bi-journal-text"></i>
            <span>Tableau des accidents</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link collapsed" href="{% url 'tableauAction' %}">
            <i class="bi bi-table"></i>
            <span>Tableau des actions</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link collapsed" href="{% url 'profile' %}">
            <i class="bi bi-person"></i>
            <span>Profile</span>
          </a>
        </li>
      </ul>
    </aside>
    <!-- End Sidebar-->

    <main id="main" class="main">
      <div class="row">
        <div class="container" data-layout="container">
          <div class="content">
            <div class="row mt-5">
              <div class="col-lg-6 col-xl-12 col-xxl-6 h-100">
                <div class="d-flex mb-4">
                                    <span class="fa-stack me-2 ms-n1"
                    ><i class="fas fa-circle fa-stack-2x text-300"></i
                    ><i
                      class="fa-inverse fa-stack-1x text-primary fas fa-check-double"
                    ></i
                  ></span>
                  <div class="col">
                    <h5 class="mb-0 text-primary position-relative">
                      <span class="bg-200 dark__bg-1100 pe-3"
                        >Formulaire de sauvegarde des accidents</span
                      ><span
                        class="border position-absolute top-50 translate-middle-y w-100 start-0 z-n1"
                      ></span>
                    </h5>
                    <p class="mb-0">
                      Renseigner ici les informations relatives Ã  votre
                      accident.
                    </p>
                  </div>
                </div>
                <div class="card theme-wizard h-100 mb-5">
                  <div class="card-header bg-body-tertiary pt-3 pb-2">
                    <ul class="nav justify-content-between nav-wizard">
                      <li class="nav-item">
                        <a
                          class="nav-link active fw-semi-bold"
                          href="#bootstrap-wizard-validation-tab1"
                          data-bs-toggle="tab"
                          data-wizard-step="1"
                          ><span class="nav-item-circle-parent"
                            ><span class="nav-item-circle"
                              ><span
                                class="fas fa-car-crash"
                              ></span></span></span
                          ><span class="d-none d-md-block mt-1 fs-10"
                            >Information sur l'accident</span
                          ></a
                        >
                      </li>
                      <li class="nav-item">
                        <a
                          class="nav-link fw-semi-bold"
                          href="#bootstrap-wizard-validation-tab2"
                          data-bs-toggle="tab"
                          data-wizard-step="2"
                          ><span class="nav-item-circle-parent"
                            ><span class="nav-item-circle"
                              ><span
                                class="fas fa-user-injured"
                              ></span></span></span
                          ><span class="d-none d-md-block mt-1 fs-10"
                            >Information sur la victimes</span
                          ></a
                        >
                      </li>
                      <li class="nav-item">
                        <a
                          class="nav-link fw-semi-bold"
                          href="#bootstrap-wizard-validation-tab3"
                          data-bs-toggle="tab"
                          data-wizard-step="3"
                          ><span class="nav-item-circle-parent"
                            ><span class="nav-item-circle"
                              ><span
                                class="fas fa-clipboard-list"
                              ></span></span></span
                          ><span class="d-none d-md-block mt-1 fs-10"
                            >TÃ©moin(s) et tiers Responsable</span
                          ></a
                        >
                      </li>
                      <li class="nav-item">
                        <a
                          class="nav-link fw-semi-bold"
                          href="#bootstrap-wizard-validation-tab4"
                          data-bs-toggle="tab"
                          data-wizard-step="4"
                          ><span class="nav-item-circle-parent"
                            ><span class="nav-item-circle"
                              ><span class="fas fa-search"></span></span></span
                          ><span class="d-none d-md-block mt-1 fs-10"
                            >Analyse des causes</span
                          ></a
                        >
                      </li>
                      <li class="nav-item">
                        <a
                          class="nav-link fw-semi-bold"
                          href="#bootstrap-wizard-validation-tab5"
                          data-bs-toggle="tab"
                          data-wizard-step="5"
                          ><span class="nav-item-circle-parent"
                            ><span class="nav-item-circle"
                              ><span class="fas fa-tools"></span></span></span
                          ><span class="d-none d-md-block mt-1 fs-10"
                            >Plan d'actions</span
                          ></a
                        >
                      </li>
                      <li class="nav-item">
                        <a
                          class="nav-link fw-semi-bold"
                          href="#bootstrap-wizard-validation-tab6"
                          data-bs-toggle="tab"
                          data-wizard-step="6"
                          ><span class="nav-item-circle-parent"
                            ><span class="nav-item-circle"
                              ><span
                                class="fas fa-thumbs-up"
                              ></span></span></span
                          ><span class="d-none d-md-block mt-1 fs-10"
                            >Done</span
                          ></a
                        >
                      </li>
                    </ul>
                  </div>
                  <div class="card-body py-4" id="wizard-controller">
                    <div class="tab-content">
                      <div
                        class="tab-pane active px-sm-3 px-md-5"
                        role="tabpanel"
                        aria-labelledby="bootstrap-wizard-validation-tab1"
                        id="bootstrap-wizard-validation-tab1"
                      >
                        <form
                          class="needs-validation"
                          novalidate="novalidate"
                          data-wizard-form="1"
                        >
                          <div class="row">
                            <!-- NÂ° Cotisant -->
                            <div class="col-12 col-md-6 mb-3">
                              <label for="number-cotisant" class="form-label">NÂ° Cotisant</label>
                              <input type="text" class="form-control" name="numberCotisant" id="number-cotisant" required>
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <!-- Nom ou raison sociale -->
                            <div class="col-12 col-md-6 mb-3">
                              <label
                                class="form-label"
                                for="name-or-corporate-name"
                                >Nom ou raison sociale</label
                              >
                              <input
                                class="form-control"
                                type="text"
                                name="nameOrCorporateName"
                                id="name-or-corporate-name" required 
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <!-- Sigle -->
                            <div class="col-12 col-md-6 mb-3">
                              <label class="form-label" for="acronym"
                                >Sigle</label
                              >
                              <input
                                class="form-control"
                                type="text"
                                name="acronym"
                                id="acronym" required 
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <!-- Adresse -->
                            <div class="col-12 col-md-6 mb-3">
                              <label class="form-label" for="address"
                                >Adresse</label
                              >
                              <input
                                class="form-control"
                                type="text"
                                name="address"
                                id="address" required 
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <!-- NÂ° tÃ©lÃ©phone -->
                            <div class="col-12 col-md-6 mb-3">
                              <label class="form-label" for="phone-number"
                                >NÂ° tÃ©lÃ©phone</label
                              >
                              <input
                                class="form-control"
                                type="tel"
                                name="phoneNumber"
                                id="phone-number" required 
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <!-- Fax -->
                            <div class="col-12 col-md-6 mb-3">
                              <label class="form-label" for="fax">Fax</label>
                              <input
                                class="form-control"
                                type="text"
                                name="fax"
                                id="fax" required 
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <!-- E-mail -->
                            <div class="col-12 col-md-6 mb-3">
                              <label class="form-label" for="email"
                                >E-mail</label
                              >
                              <input
                                class="form-control"
                                type="email"
                                name="email"
                                id="email" required 
                              /> 
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <!-- Secteur d'activitÃ© -->
                            <div class="col-12 col-md-6 mb-3">
                              <label class="form-label" for="activity-sector"
                                >Secteur d'activitÃ©</label
                              >
                              <input
                                class="form-control"
                                type="text"
                                name="activitySector"
                                id="activity-sector" required 
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <!-- Nbre de salariÃ©s de l'Ã©tablissement au moment de l'accident -->
                            <div class="col-12 col-md-6 mb-3 mb-3">
                              <label
                                class="form-label"
                                for="number-of-employees"
                                >Nbre de salariÃ©s de l'Ã©tablissement au moment
                                de l'accident</label
                              >
                              <input
                                class="form-control"
                                type="number"
                                name="numberOfEmployees"
                                id="number-of-employees" required 
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>
                            <!-- Titre de l'Ã©vÃ©nement -->
      <div class="mb-3 col-12 col-md-6 mb-3">
        <label for="event-title" class="form-label">Titre de l'Ã©vÃ©nement</label>
        <input type="text" class="form-control" id="event-title" name="eventTitle" required >
      </div>
                            <!-- Date de l'accident -->
                            <div class="col-md-6 mb-3">
                              <label class="form-label" for="accident-date"
                                >Date de l'accident</label
                              >
                              <input
                                class="form-control"
                                type="date"
                                name="accidentDate"
                                id="accident-date" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <!-- Heure -->
                            <div class="col-md-6 mb-3">
                              <label class="form-label" for="accident-time"
                                >Heure</label
                              >
                              <input
                                class="form-control"
                                type="time"
                                name="accidentTime"
                                id="accident-time" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <!-- Type d'Ã©vÃ©nement -->
                          <div class="mb-3 col-12 col-md-6 mb-3">
                            <label for="event-type" class="form-label">Type d'Ã©vÃ©nement</label>
                            <select class="form-control" id="event-type" name="eventType" required>
                              <option>AAA</option>
                              <option>ASA</option>
                              <option>Incidents</option>
                              <option>Presqu'incidents</option>
                            </select>
                            <div class="invalid-feedback">
                              Ce champ est requis.
                            </div>
                          </div>
                            <!-- Lieu de l'accident -->
                            <div class="col-12 col-md-6 mb-3 mb-3">
                              <label class="form-label" for="accident-location"
                                >Lieu de l'accident</label
                              >
                              <input
                                class="form-control"
                                type="text"
                                name="accidentLocation"
                                id="accident-location" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <!-- Horaire de travail dans l'entreprise -->
                            <div class="col-12 col-md-6 mb-3">
                              <label class="form-label" for="work-schedule"
                                >Horaire de travail dans l'entreprise</label
                              >
                              <input
                                class="form-control"
                                type="text"
                                name="workSchedule"
                                id="work-schedule" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <!-- Nature des lÃ©sions -->
                            <div class="col-md-6 mb-3">
                              <label class="form-label" for="nature-of-lesions"
                                >Nature des lÃ©sions</label
                              >
                              <input
                                class="form-control"
                                type="text"
                                name="natureOfLesions"
                                id="nature-of-lesions" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <!-- SiÃ¨ges des lÃ©sions -->
                            <div class="col-md-6 mb-3">
                              <label
                                class="form-label"
                                for="location-of-lesions"
                                >SiÃ¨ges des lÃ©sions</label
                              >
                              <input
                                class="form-control"
                                type="text"
                                name="locationOfLesions"
                                id="location-of-lesions" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>
                            <!-- Nom du medecin ou infirmier ayant pratiquÃ© les premiers soins -->
                            <div class="col-12 col-md-6 mb-3">
                              <label class="form-label" for="first-aid-provider"
                                >Nom du medecin ou infirmier ayant pratiquÃ© les
                                premiers soins</label
                              >
                              <input
                                class="form-control"
                                type="text"
                                name="firstAidProvider"
                                id="first-aid-provider"
                                required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>
                            <!-- Circonstances dÃ©taillÃ©es de l'accident -->
                            <div class="col-12 mb-3">
                              <label
                                class="form-label"
                                for="detailed-circumstances"
                                >Circonstances dÃ©taillÃ©es de l'accident</label
                              >
                              <textarea
                                class="form-control"
                                name="detailedCircumstances"
                                id="detailed-circumstances" required
                              ></textarea>
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <!-- Cause de l'accident -->
                            <div class="col-12 mb-3">
                              <label class="form-label" for="cause-of-accident"
                                >Cause de l'accident</label
                              >
                              <input
                                class="form-control"
                                type="text"
                                name="causeOfAccident"
                                id="cause-of-accident" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            

                            <!-- Suite probable -->
                            <div class="col-12 mb-3">
                              <label class="form-label" for="probable-outcome"
                                >Suite probable</label
                              >
                              <input
                                class="form-control"
                                type="text"
                                name="probableOutcome"
                                id="probable-outcome"
                              />
                            </div>

                           <!-- Sans arrÃªt de travail -->
                              <div class="mb-3 col-3 form-check">
                                <input
                                  type="radio"
                                  class="form-check-input"
                                  id="no-work-stoppage"
                                  name="workStoppage"
                                  value="none"
                                />
                                <label
                                  class="form-check-label"
                                  for="no-work-stoppage"
                                  >Sans arrÃªt de travail</label
                                >
                              </div>

                              <!-- Avec arrÃªt de travail supÃ©rieur Ã  24 heures -->
                              <div class="mb-3 col-3 form-check">
                                <input
                                  type="radio"
                                  class="form-check-input"
                                  id="work-stoppage-over-24h"
                                  name="workStoppage"
                                  value="over24h"
                                />
                                <label
                                  class="form-check-label"
                                  for="work-stoppage-over-24h"
                                  >Avec arrÃªt de travail supÃ©rieur Ã  24 heures</label
                                >
                              </div>

                              <!-- DÃ©cÃ¨s immÃ©diat -->
                              <div class="mb-3 col-3 form-check">
                                <input
                                  type="radio"
                                  class="form-check-input"
                                  id="immediate-death"
                                  name="workStoppage"
                                  value="immediateDeath"
                                />
                                <label
                                  class="form-check-label"
                                  for="immediate-death"
                                  >DÃ©cÃ¨s immÃ©diat</label
                                >
                              </div>
                              <!-- Nombre de jours d'arrÃªt -->
                          <div class="mb-3 col-3">
                            <label for="stoppage-days" class="form-label">Nombre de jours d'arrÃªt</label>
                            <input type="number" class="form-control" id="stoppage-days" name="stoppageDays">
                          </div>


                          </div>
                          
                        </form>
                      </div>
                      <div
                        class="tab-pane px-sm-3 px-md-5"
                        role="tabpanel"
                        aria-labelledby="bootstrap-wizard-validation-tab2"
                        id="bootstrap-wizard-validation-tab2"
                      >
                      <form class="needs-validation was-validated" data-wizard-form="2">
                        {% csrf_token %}  
                        <div class="row">
                            <div class="mb-3 col-4">
                              <label for="social-security-number"
                                >NÂ° assurÃ© social :</label
                              >
                              <input
                                type="text"
                                class="form-control"
                                id="social-security-number"
                                name="socialSecurityNumber" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-4">
                              <label for="full-name">Nom et PrÃ©noms :</label>
                              <input
                                type="text"
                                class="form-control"
                                id="full-name"
                                name="fullName" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-4">
                              <label>Sexe :</label>
                              <div>
                                <input
                                  type="radio"
                                  id="male"
                                  name="gender"
                                  value="male"
                                />
                                <label for="male">Masculin</label>
                                <input
                                  type="radio"
                                  id="female"
                                  name="gender"
                                  value="female"
                                />
                                <label for="female">Feminin</label>
                              </div>
                            </div>

                            <div class="mb-3 col-4">
                              <label for="address">Adresse :</label>
                              <input
                                type="text"
                                class="form-control"
                                id="address"
                                name="address" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-4">
                              <label for="phone-number">NÂ° tÃ©lÃ©phone :</label>
                              <input
                                type="tel"
                                class="form-control"
                                id="phone-number"
                                name="phoneNumber" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-4">
                              <label for="fax">Fax :</label>
                              <input
                                type="text"
                                class="form-control"
                                id="fax"
                                name="fax" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-4">
                              <label for="email">E-mail :</label>
                              <input
                                type="email"
                                class="form-control"
                                id="email"
                                name="email" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-4">
                              <label for="hiring-date">Date d'embauche :</label>
                              <input
                                type="date"
                                class="form-control"
                                id="hiring-date"
                                name="hiringDate" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-4">
                              <label for="nationality">NationalitÃ© :</label>
                              <input
                                type="text"
                                class="form-control"
                                id="nationality"
                                name="nationality" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-4">
                              <label for="profession">Profession :</label>
                              <input
                                type="text"
                                class="form-control"
                                id="profession"
                                name="profession" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-4">
                              <label for="job-position"
                                >Poste de travail :</label
                              >
                              <input
                                type="text"
                                class="form-control"
                                id="job-position"
                                name="jobPosition" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-4">
                              <label for="seniority"
                                >AnciennetÃ© au poste :</label
                              >
                              <input
                                type="text"
                                class="form-control"
                                id="seniority"
                                name="seniority" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-4">
                              <label for="spouse-full-name"
                                >Noms et PrÃ©noms (Conjoint/Proche Parent)
                                :</label
                              >
                              <input
                                type="text"
                                class="form-control"
                                id="spouse-full-name"
                                name="spouseFullName" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-4">
                              <label for="spouse-phone-number"
                                >NÂ° tÃ©lÃ©phone :</label
                              >
                              <input
                                type="tel"
                                class="form-control"
                                id="spouse-phone-number"
                                name="spousePhoneNumber" required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>
                          </div>
                        </form>
                      </div>
                      <div
                        class="tab-pane px-sm-3 px-md-5"
                        role="tabpanel"
                        aria-labelledby="bootstrap-wizard-validation-tab3"
                        id="bootstrap-wizard-validation-tab3"
                      >
                      <form class="needs-validation was-validated" data-wizard-form="3">
                          <div class="row">
                            <h5>TEMOIN(S)</h5>
                            <div class="mb-3 col-6">
                              <label for="witness-name"
                                >Nom(s)/PrÃ©nom(s) :</label
                              >
                              <input
                                type="text"
                                class="form-control"
                                id="witness-name"
                                name="witnessName"
                                required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-6">
                              <label for="witness-address">Adresse :</label>
                              <input
                                type="text"
                                class="form-control"
                                id="witness-address"
                                name="witnessAddress"
                                required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <!-- Police Report -->
                            <div class="mb-3 col-6">
                              <label
                                >Un rapport de police a-t-il Ã©tÃ© Ã©tabli ?</label
                              >
                              <div>
                                <input
                                  type="radio"
                                  id="police-report-yes"
                                  name="policeReport"
                                  value="yes"
                                />
                                <label for="police-report-yes">Oui</label>
                                <input
                                  type="radio"
                                  id="police-report-no"
                                  name="policeReport"
                                  value="no"
                                />
                                <label for="police-report-no">Non</label>
                              </div>
                            </div>

                            <div class="mb-3 col-6">
                              <label for="report-author">Par qui :</label>
                              <input
                                type="text"
                                class="form-control"
                                id="report-author"
                                name="reportAuthor"
                                required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <h5>RISQUE CAUSE PAR UN TIERS</h5>
                            <div class="mb-3 col-6">
                              <label for="name">Nom :</label>
                              <input
                                type="text"
                                class="form-control"
                                id="name"
                                name="name"
                                required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-6">
                              <label for="address">Adresse :</label>
                              <input
                                type="text"
                                class="form-control"
                                id="address"
                                name="address"
                                required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-4">
                              <label for="insurance-company"
                                >Cie d'assurances :</label
                              >
                              <input
                                type="text"
                                class="form-control"
                                id="insurance-company"
                                name="insuranceCompany"
                                required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-4">
                              <label for="third-party">du Tiers :</label>
                              <input
                                type="text"
                                class="form-control"
                                id="third-party"
                                name="thirdParty"
                                required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>

                            <div class="mb-3 col-4">
                              <label for="policy-number"
                                >NÂ° de Police d'assurance :</label
                              >
                              <input
                                type="text"
                                class="form-control"
                                id="policy-number"
                                name="policyNumber"
                                required
                              />
                              <div class="invalid-feedback">
                                Ce champ est requis.
                              </div>
                            </div>
                          </div>
                        </form>
                      </div>
                      <div
                        class="tab-pane text-center px-sm-3 px-md-5"
                        role="tabpanel"
                        aria-labelledby="bootstrap-wizard-validation-tab4"
                        id="bootstrap-wizard-validation-tab4"
                      >
                        <form class="form-validation" data-wizard-form="4">
                        <div class="row">
                          <div class="mb-3">
                            <button
                              type="button"
                              class="btn btn-primary"
                              onclick="addDropdown()"
                            >
                              AJOUTER UNE CAUSE
                            </button>
                          </div>

                          <div id="dropdown-container" class="row"></div>
                        </form>
                      </div>                     
                    </div>
                    <div
                    class="tab-pane text-center px-sm-3 px-md-5"
                    role="tabpanel"
                    aria-labelledby="bootstrap-wizard-validation-tab5"
                    id="bootstrap-wizard-validation-tab5"
                  >
                    <form class="form-validation" data-wizard-form="5">
                    <div class="row">
                      <div class="mb-3">
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#actionModal">
                          Ajouter une actions
                        </button>
                      </div>
                      <table class="table" id="actionsTable">
                        <thead>
                          <tr>
                            <th>Titre</th>
                            <th>Description</th>
                            <th>Responsable</th>
                            <th>Statut</th>
                            <th>Date de dÃ©but</th>
                            <th>Date de fin</th>
                            <th>Actions</th> <!-- Colonne pour les boutons d'action comme supprimer -->
                          </tr>
                          
                        </thead>
                        <tbody>
                          <!-- Les lignes seront ajoutÃ©es ici par JavaScript -->
                        </tbody>
                      </table>
                    </form>
                  </div>
                  
                </div>
                <div
                class="tab-pane text-center px-sm-3 px-md-5"
                role="tabpanel"
                aria-labelledby="bootstrap-wizard-validation-tab6"
                id="bootstrap-wizard-validation-tab6"
              >

              <div class="tab-pane text-center px-sm-3 px-md-5" role="tabpanel" aria-labelledby="bootstrap-wizard-validation-tab4" id="bootstrap-wizard-validation-tab4">
                <div class="wizard-success-wrapper">
                  <div class="success-icon mx-auto my-3"><i class="fas fa-check-circle fa-4x text-success"></i></div>
                  <h4 class="mb-1">Votre accident a Ã©tÃ© enregistrÃ© avec succÃ¨s!</h4>
                  <p>Vous pouvez maintenant consulter les statistiques et informations sur vos accidents.</p>
                  <a class="btn btn-primary px-5 my-3" href="{% url 'Dashboard' %}">Voir le Tableau de Bord</a>
                </div>
            </div>

              </div>
            </div>
                  
                  <div class="card-footer bg-body-tertiary">
                    <div class="px-sm-3 px-md-5">
                      <ul class="pager wizard list-inline mb-0">
                        <li class="previous">
                          <button class="btn btn-link ps-0" type="button">
                            <span
                              class="fas fa-chevron-left me-2"
                              data-fa-transform="shrink-3"
                            ></span
                            >PrÃ©cÃ©dent
                          </button>
                        </li>
                        <li class="next">
                          <button
                            class="btn btn-primary px-5 px-sm-6"
                            id="nextButton"
                            onclick="changerAttributsBouton1()"
                          >
                            Suivant<span
                              class="fas fa-chevron-right ms-2"
                              data-fa-transform="shrink-3"
                            >
                            </span>
                          </button>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>

              </div>
        
              <div
                class="modal fade"
                id="error-modal"
                tabindex="-1"
                role="dialog"
                aria-hidden="true"
              >
                <div
                  class="modal-dialog modal-dialog-centered"
                  role="document"
                  style="max-width: 400px"
                >
                  <div class="modal-content position-relative p-5">
                    <div class="d-flex align-items-center">
                      <div class="me-3">
                        <i class="fas fa-exclamation-triangle text-warning"></i>
                    </div>
                      <div class="flex-1">
                        <button
                          class="btn btn-link text-danger position-absolute top-0 end-0 mt-2 me-2"
                          data-bs-dismiss="modal"
                        >
                          <span class="fas fa-times"></span>
                        </button>
                        <p class="mb-0">
                          Les donnÃ©es du formulaire ont Ã©tÃ© sauvegardÃ©es avec succÃ¨s dans la base de donnÃ©es. Par consÃ©quent, l'accÃ¨s Ã  ce lien n'est dÃ©sormais plus disponible. 
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>s
            </div>
          </div>
        </div>
      </div>
      
      <div class="modal fade" id="actionModal" tabindex="-1" aria-labelledby="actionModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="actionModalLabel">Ajouter une action</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <!-- Formulaire dans le modal -->
              <form id="actionForm">
                <div class="mb-3">
                  <label for="action-title" class="form-label">Titre de l'action</label>
                  <input type="text" class="form-control" id="action-title" name="actionTitle" required>
                </div>
                <div class="mb-3">
                  <label for="action-description" class="form-label">Description</label>
                  <textarea class="form-control" id="action-description" name="actionDescription" required></textarea>
                </div>
                <div class="mb-3">
                  <label for="action-responsible" class="form-label">Responsable</label>
                  <select class="form-control" id="action-responsible" name="actionResponsible">
                    <option>Aucun</option>
                    <option>Yvan</option>
                    <option>Paul</option>
                    <option>Yannick</option>
                  </select>
                </div>
                <div class="mb-3">
                  <label for="action-status" class="form-label">Statut</label>
                  <select class="form-control" id="action-status" name="actionStatus">
                    <option>Ouvert</option>
                    <option>En cours</option>
                    <option>TerminÃ©</option>
                  </select>
                </div>
                <div class="mb-3">
                  <label for="action-start-date" class="form-label">Date de dÃ©but</label>
                  <input type="date" class="form-control" id="action-start-date" name="actionStartDate">
                </div>
                <div class="mb-3">
                  <label for="action-end-date" class="form-label">Date de fin</label>
                  <input type="date" class="form-control" id="action-end-date" name="actionEndDate">
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" id="modalActionButton" onclick="addAction()">Ajouter l'action</button>
            </div>
          </div>
        </div>
      </div>
    </main>
    <!-- End #main -->

    <!-- Vendor JS Files -->
    <!-- Vendor JS Files -->
    
    <script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>
    <script src="{% static 'assets/vendor/fontawesome/all.min.js' %}"></script>
    <script src="{% static 'assets/vendor/lodash/lodash.min.js' %}"></script>
    <script src="{% static 'assets/js/theme.js' %}"></script>
    <script src="{% static 'assets/vendor/bootstrap/js/bootstrap2.min.js' %}"></script>
    <script src="{% static 'assets/vendor/anchorjs/anchor.min.js' %}"></script>

    <!-- Template Main JS File -->
    <script src="{% static 'assets/js/main.js' %}"></script>
    <script>
      function submitForm() {
        
        var numberCotisant = document.getElementById("number-cotisant").value;
        var nameOrCorporateName = document.getElementById("name-or-corporate-name").value;
        var acronym = document.getElementById("acronym").value;
        var address = document.getElementById("address").value;
        var phoneNumber = document.getElementById("phone-number").value;
        var fax = document.getElementById("fax").value;
        var email = document.getElementById("email").value;
        var activitySector = document.getElementById("activity-sector").value;
        var numberOfEmployees = document.getElementById("number-of-employees").value;
        var eventTitle = document.getElementById("event-title").value;

        var accidentDate = document.getElementById("accident-date").value;
        var accidentTime = document.getElementById("accident-time").value;
        var eventType = document.getElementById("event-type").value;
        var accidentLocation = document.getElementById("accident-location").value;
        var workSchedule = document.getElementById("work-schedule").value;
        var natureOfLesions = document.getElementById("nature-of-lesions").value;
        var locationOfLesions = document.getElementById("location-of-lesions").value;
        var firstAidProvider = document.getElementById("first-aid-provider").value;
        var detailedCircumstances = document.getElementById("detailed-circumstances").value;
        var causeOfAccidentInput = document.getElementById('cause-of-accident');
        var probableOutcomeInput = document.getElementById('probable-outcome');
        var noWorkStoppageRadio = document.getElementById('no-work-stoppage');
        var workStoppageOver24hRadio = document.getElementById('work-stoppage-over-24h');
        var immediateDeathRadio = document.getElementById('immediate-death');
        var stoppageDaysInput = document.getElementById('stoppage-days');

        var socialSecurityNumberInput = document.getElementById('social-security-number');
        var fullNameInput = document.getElementById('full-name');
        var genderInputs = document.querySelectorAll('[name="gender"]');
        var addressInput = document.getElementById('address');
        var phoneNumberInput = document.getElementById('phone-number');
        var faxInput = document.getElementById('fax');
        var emailInput = document.getElementById('email');
        var hiringDateInput = document.getElementById('hiring-date');
        var nationalityInput = document.getElementById('nationality');
        var professionInput = document.getElementById('profession');
        var jobPositionInput = document.getElementById('job-position');
        var seniorityInput = document.getElementById('seniority');
        var spouseFullNameInput = document.getElementById('spouse-full-name');
        var spousePhoneNumberInput = document.getElementById('spouse-phone-number');

        var witnessName = document.getElementById('witness-name').value;
        var witnessAddress = document.getElementById('witness-address').value;
        var policeReportYes = document.getElementById('police-report-yes').checked;
        var policeReportNo = document.getElementById('police-report-no').checked;
        var reportAuthor = document.getElementById('report-author').value;
        var riskName = document.getElementById('name').value;
        var riskAddress = document.getElementById('address').value;
        var insuranceCompany = document.getElementById('insurance-company').value;
        var thirdParty = document.getElementById('third-party').value;
        var policyNumber = document.getElementById('policy-number').value;


        var formDataObject = {
          numberCotisant: numberCotisant,
          nameOrCorporateName: nameOrCorporateName,
          acronym: acronym,
          address: address,
          phoneNumber: phoneNumber,
          fax: fax,
          email: email,
          activitySector: activitySector,
          numberOfEmployees: numberOfEmployees,
          eventTitle: eventTitle,
          accidentDate: accidentDate,
          accidentTime: accidentTime,
          eventType: eventType,
          accidentLocation: accidentLocation,
          workSchedule: workSchedule,
          natureOfLesions: natureOfLesions,
          locationOfLesions: locationOfLesions,
          firstAidProvider: firstAidProvider,
          detailedCircumstances: detailedCircumstances,
          causeOfAccident: causeOfAccidentInput.value,
          probableOutcome: probableOutcomeInput.value,
          
          workStoppage: (noWorkStoppageRadio.checked ? noWorkStoppageRadio.value :
                        (workStoppageOver24hRadio.checked ? workStoppageOver24hRadio.value :
                         (immediateDeathRadio.checked ? immediateDeathRadio.value : ''))),
          stoppageDays: stoppageDaysInput.value,
      
          socialSecurityNumber: socialSecurityNumberInput.value,
          fullNameV: fullNameInput.value,
          genderV: document.querySelector('[name="gender"]:checked').value,
          addressV: addressInput.value,
          phoneNumberV: phoneNumberInput.value,
          faxV: faxInput.value,
          emailV: emailInput.value,
          hiringDate: hiringDateInput.value,
          nationality: nationalityInput.value,
          profession: professionInput.value,
          jobPosition: jobPositionInput.value,
          seniority: seniorityInput.value,
          spouseFullName: spouseFullNameInput.value,
          spousePhoneNumber: spousePhoneNumberInput.value,

          witnessName: witnessName,
          witnessAddress: witnessAddress,
          policeReport: policeReportYes ? 'yes' : (policeReportNo ? 'no' : ''),
          reportAuthor: reportAuthor,
      
          riskName: riskName,
          riskAddress: riskAddress,
          insuranceCompany: insuranceCompany,
          thirdParty: thirdParty,
          policyNumber: policyNumber
      };

      addDropdown()

      var selectedCauses = [];
      var dropdowns = document.querySelectorAll('select[name="causes[]"]');
      dropdowns.forEach(function(dropdown) {
        selectedCauses.push(dropdown.value);
      });

      formDataObject.causes = selectedCauses;

      var informationActions = [];
      var table = document.getElementById('actionsTable');
      var actionsTableRows = table.rows;

      for (var i = 1; i < actionsTableRows.length; i++) {
          var cells = actionsTableRows[i].cells;
          
          var actionData = {
              title: cells[0].innerText,
              description: cells[1].innerText,
              responsible: cells[2].innerText,
              status: cells[3].innerText,
              startDate: cells[4].innerText,
              endDate: cells[5].innerText
          };
    
          informationActions.push(actionData);
      }

      var actionsDataString = JSON.stringify(informationActions, null, 2);

      formDataObject.actionsAccidents = actionsDataString;
      var csrfTokenInput = document.querySelector('input[name="csrfmiddlewaretoken"]');
      var jetonCsrf = csrfTokenInput ? csrfTokenInput.value : null;

      console.log(formDataObject)
      
        axios.post('{% url 'AjouterAccidentProcessus' %}', formDataObject, {
          headers: {
              'Content-Type': 'multipart/form-data',
              'X-CSRFToken': jetonCsrf
          }
        })
          .then(function (response) {
            alert('Accident enregistrÃ© avec succes.');
          })
          .catch(function (error) {
            console.error('Erreur lors de l\'envoi des donnÃ©es:', error);
          }); 
      }

      function changerAttributsBouton1() {
        var bouton = document.getElementById("nextButton");

        bouton.innerHTML = "Suivant";
        bouton.onclick = changerAttributsBouton2;
      }

      function changerAttributsBouton2() {
        var bouton = document.getElementById("nextButton");

        bouton.innerHTML = "Suivant";
        bouton.onclick = changerAttributsBouton3;
      }

      function changerAttributsBouton3() {
        var bouton = document.getElementById("nextButton");

        bouton.innerHTML = "Suivant";
        bouton.onclick = changerAttributsBouton4;
      }

      function changerAttributsBouton4() {
        var bouton = document.getElementById("nextButton");

        bouton.className = "btn btn-success"; 
        bouton.innerHTML = "Enregistrer l'accident";
        bouton.onclick = submitForm;
      }


      function addDropdown() {
          // CrÃ©er un div pour contenir le select et le bouton de suppression
          var div = document.createElement("div");
          div.className = "col-6 ml-3 mb-3 d-flex align-items-start";

                // CrÃ©er un nouveau select element
                var select = document.createElement("select");
                select.className = "form-control mb-3 ";
                select.name = "causes[]"; 

                // Ajouter des options par dÃ©faut
                var causes = ["manutention", "chute de plain-pied", "chute en hauteur", "utilisation dâoutils ou de produits chimiques", "masses et objets en mouvement"];
          causes.forEach(function(cause) {
            var option = document.createElement("option");
            option.value = cause;
            option.text = cause;
            select.appendChild(option);
          });

        // CrÃ©er le bouton de suppression
          var deleteButton = document.createElement("button");
          deleteButton.type = "button";
          deleteButton.className = "btn btn-danger ml-2";
          deleteButton.innerHTML = "<i class='fa fa-trash'></i>"; // Assurez-vous que la classe fa-trash fait partie d'une librairie d'icÃ´nes comme FontAwesome
          deleteButton.onclick = function() {
            // Supprimer le div conteneur de la liste dÃ©roulante et du bouton
            div.remove();
          };

          // Ajouter la liste dÃ©roulante et le bouton au div conteneur
          div.appendChild(select);
          div.appendChild(deleteButton);

          // Ajouter le div conteneur au formulaire
          var container = document.getElementById("dropdown-container");
          container.appendChild(div);
      }

  // Fonction pour ajouter une action au tableau
function addAction() {
  // RÃ©cupÃ©rer les donnÃ©es du formulaire
  var title = document.getElementById('action-title').value;
  var description = document.getElementById('action-description').value;
  var responsible = document.getElementById('action-responsible').value;
  var status = document.getElementById('action-status').value;
  var startDate = document.getElementById('action-start-date').value;
  var endDate = document.getElementById('action-end-date').value;

  // CrÃ©er une nouvelle ligne dans le tableau
var table = document.getElementById('actionsTable');
  var row = table.insertRow();
  row.innerHTML = `
    <td>${title}</td>
    <td>${description}</td>
    <td>${responsible}</td>
    <td>${status}</td>
    <td>${startDate}</td>
    <td>${endDate}</td>
    <td>
      <i class="fas fa-edit text-primary" style="cursor:pointer;" onclick="editAction(this)"></i>
      <i class="fas fa-trash-alt text-danger" style="cursor:pointer;" onclick="deleteAction(this)"></i>
    </td>
  `;
  // RÃ©initialisez le texte du bouton et la fonction appelÃ©e
  document.getElementById('modalActionButton').innerText = "Ajouter l'action";
  document.getElementById('modalActionButton').setAttribute("onclick", "addAction()");

  // Fermer le modal
  var modal = bootstrap.Modal.getInstance(document.getElementById('actionModal'));
  modal.hide();

  // RÃ©initialiser le formulaire
  document.getElementById('actionForm').reset();

  
}

function deleteAction(icon) {
  var row = icon.parentNode.parentNode;
  row.parentNode.removeChild(row);
}

function editAction(icon) {
  var row = icon.parentNode.parentNode.cells;
  document.getElementById('action-title').value = row[0].innerText;
  document.getElementById('action-description').value = row[1].innerText;
  document.getElementById('action-responsible').value = row[2].innerText;
  document.getElementById('action-status').value = row[3].innerText;
  document.getElementById('action-start-date').value = row[4].innerText;
  document.getElementById('action-end-date').value = row[5].innerText;

  // Stocker l'index de la ligne en cours de modification
  document.getElementById('actionModal').setAttribute('data-row-index', icon.parentNode.parentNode.rowIndex);

  // Afficher le modal pour Ã©dition
  var actionModal = new bootstrap.Modal(document.getElementById('actionModal'));
  actionModal.show();

   // Changez le texte du bouton et la fonction appelÃ©e
   document.getElementById('modalActionButton').innerText = "Modifier l'action";
  document.getElementById('modalActionButton').setAttribute("onclick", "updateAction()");
}

function updateAction() {
  var rowIndex = document.getElementById('actionModal').getAttribute('data-row-index');
  var table = document.getElementById('actionsTable');
  var row = table.rows[rowIndex];

  row.cells[0].innerText = document.getElementById('action-title').value;
row.cells[1].innerText = document.getElementById('action-description').value;
row.cells[2].innerText = document.getElementById('action-responsible').value;
row.cells[3].innerText = document.getElementById('action-status').value;
row.cells[4].innerText = document.getElementById('action-start-date').value;
row.cells[5].innerText = document.getElementById('action-end-date').value;

  // Fermer le modal aprÃ¨s la mise Ã  jour
  var actionModal = bootstrap.Modal.getInstance(document.getElementById('actionModal'));
  actionModal.hide();
}

document.addEventListener('DOMContentLoaded', function () {
  var forms = document.querySelectorAll('.needs-validation');
  Array.prototype.slice.call(forms).forEach(function (form) {
    form.addEventListener('submit', function (event) {
      if (!form.checkValidity()) {
        event.preventDefault();
        event.stopPropagation();
      }
      form.classList.add('was-validated');
    }, false);
  });
});
    </script>
  </body>
</html>
